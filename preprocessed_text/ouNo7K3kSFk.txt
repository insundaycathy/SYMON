in the future, humanity is preparing to launch an attack on the homeworld of an alien race called the formics that had attacked earth and killed millions. the formic invasion was stopped by maser rackham, who crashed his fighter plane into the formic queenship at the apparent cost of his life. over the course of 50 years, gifted children are trained by the international fleet to become commanders of a new fleet for this counter-attack. cadet andrew ender wiggin draws the attention of colonel hiram groff and maj gwen anderson. because of his aptitude in simulated space combat. they order the removal of his monitor, signifying the end of the cadet program. ender is attacked by stilson, a less prudent student. he defeated in the combat sim but ender fights back and severely injures him. ender confesses his grief to his older sister valentine, but is harassed further by their older brother. peter groff arrives to reveal ender was being tested and is still part of the programme gruff brings ender to battle school and places ender with other cadets his age, but treats him as extraordinary, thereby subjecting him to being ostracized by the others. the cadets are placed in squads and perform training games in a zero-gravity battle room. ender quickly adapts to the games, devising new strategies older students have not yet seen. groff reassigns ender to salamander army led by commander bonzo madrid. bonzo, believing that ender is inept due to his size, and fearing ender will cause the squad to fail, prevents him from training with the rest of the squad. another cadet, petra arcanian, takes ender under her wing and trains him privately. bonzo becomes aware of this, but does not take any action besides ordering ender not to train with petra. ender secretly persuades bonzo to let him continue, arguing this will increase ender's chance of being accepted into another squad. in the next match, bonzo orders ender to do nothing while the rest of the salamander army fights another team. however, seeing the team losing and petra in trouble, ender comes to her aid and helps the salamander army win. after the match, bonzo is humiliated and threatens to kill ender if he embarrasses him again. meanwhile, ender plays a computerized mind game set in a fantasy world, which presents difficult choices to the player. in one situation, ender creates an outside-the-box solution to overcome a seemingly unsolvable problem. later, he encounters a formic in the game, and then a simulated image of valentine entering the ruins of a castle. inside, he finds another image of valentine, but as he nears it turns into an image of peter, who grabs ander and looks into his right eye before the game ends. these are noted as unusual additions to the game, which is seemingly being altered by ender's interaction with the computer. gruff promotes ender to lead his own squad, which is made up of students who have gained ender's trust. they are put in increasingly difficult battles. in a surprise match against two other teams, including bonzo's salamander army, ender devises a novel strategy of sacrificing part of his team to achieve a goal, impressing graf. bonzo attacks ender in the bathroom after the match, but ender fights back. bonzo falls during the struggle and is seriously injured. distraught, ender prepares to quit battle school, but groff has valentine convince him to continue. gruff takes ender to humanity's forward base on a former formic planet near their homeworld. there, ender meets mazer rackham, who did not die as had been previously believed. rackham explains how he spotted the shared mind nature of the formics to stop the attack 50 years prior. ender finds that his former squad members are also there to help him train in computerized simulations of large fleet combat. rackham puts special emphasis on the fleet's molecular detachment md device that is capable of disintegrating matter. note one, ender's training is rigorous, and anderson expresses concern over this, but groff notes they have run out of time to replace endure. ender's final test is monitored by several fleet commanders. as the simulation starts, ender finds his fleet over the formic home world vastly outnumbered. he orders most of his fleet to sacrifice themselves to protect the md long enough to fire on the homeworld. the resulting chain reaction burns over the surface of the planet, killing the entire population the simulation ends, and ender believes the test is over. the commanders restart the video screens, showing that the destruction of the formic homeworld was real and revealing that ender has been controlling the real fleet in this and all previous simulations. despite graff's assurance that he is a hero, ender is horrified and outraged at the annihilation of an entire race, and believes he will be remembered as a killer. as ender struggles with his emotions during sleep, he recognizes one of the formic structures nearby as being similar to the ruined castle from the game. believing it is trying to communicate with him, ender goes to it. he follows the path shown by the game and encounters a dying formic queen. the queen acknowledges ender's role in the genocide and moves to kill him, but when ender shows remorse, she spares his life. it is determined that the formic were only seeking a source of water and did not want conflict. the queen gives ender a queen egg that she has been protecting with the war ended. ender is promoted to admiral, given a small ship and left to his own devices in a letter to valentine, he confides that he is going into deep space, determined to start a new formic colony with the queen egg 